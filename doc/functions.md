# 功能定义

软件产品在生产环境中部署和运行时，出现异常的原因主要有两种：

1. 环境因素：比如软件需要的硬件条件不具备，软件版本不匹配，网络传输速度太慢，磁盘IO速度太慢等；

1. 软件本身因素：主要由软件的bug引起。

为了快速定位问题，提高软件易用性，GDEP检查软件开发着指定的环境条件与实际部署环境是否匹配，如果匹配，说明异常由软件本身引起，否则给出哪些因素不符合指定要求，从而达到快速定位问题的目的。

## 指标测试

### 硬件静态指标

* 操作系统类型：ostype

* CPU主频：freq

* 可用内存：mem

* 可用磁盘空间：disk

* JDK类型和版本：jdk

* 最大文件句柄数：fd

### 硬件性能指标

* CPU性能：cpu-perf

* 内存读写速率：mem-io

* 磁盘读写速率：disk-io

* 网络传输速率：net-io，一个IP地址列表，从工具所在主机到列表中所有主机的网络传输速率；

* 多线程性能：multi-thread

### 扩展指标

如果GDEP默认的检测指标不能满足用户的具体需求，用户可以编写程序或者脚本，挂载到GDEP系统上，支持Shell脚本和Java程序。

## 基准测试

提供基准时，给出各指标测试结果相对于基准数据的相对值，否则给出测试结果的绝对值。

## 实现方法

### 指标获取算法

* ostype: System.getProperty("os.name")

* freq: 

* mem:

* disk:

* jdk:

* fd:

* cpu-perf:

* mem-io:

* disk-io:

* net-io:

* multi-thread:

### 执行方式

1. 安装GDEP；

1. 编写配置文件，添加插件（可选）；

1. 运行GDEP；

1. 分析检测报告；

### 配置文件

配置文件分为3节：

### 命令行格式

### 报告格式

### 目录结构

* bin: 放置运行脚本；

* conf: 配置文件目录；

* lib: 保存GDEP运行需要的第三方类库；

* plugins: 放置扩展插件；

### 插件的加载方法

对于Java程序型插件，用户需要事先把Java代码编译为Jar文件，对于Shell脚本型插件，直接保存在.sh文件中，然后放置在GDEP的plugins目录中，在程序启动时，启动shell脚本会将plugins目录中的所有jar文件加入到classpath中，执行所有.sh文件，程序或者脚本运行的控制台输出将作为检测结果加入到最终报告中；

# 场景说明

## 基本测试

测试硬件环境的静态和性能测试。

## 扩展测试

## 基准测试

## 给定基准的测试

